<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Itinerary Generator - Xplor Bharat</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <style>
        /* --- 1. NEON & DARK THEME VARIABLES --- */
        :root {
            --dark-blue-bg: #0a192f;
            --light-blue-bg: #112240;
            --neon-cyan: #00f5ff;
            --text-primary: #ccd6f6;
            --text-secondary: #8892b0;
            --card-border: rgba(0, 245, 255, 0.2);
            --shadow-color: rgba(0, 245, 255, 0.25);
            --hover-bg: rgba(0, 245, 255, 0.1);
        }

        /* --- 2. GLOBAL & BODY STYLES --- */
        body {
            background-color: var(--dark-blue-bg);
            color: var(--text-primary);
            font-family: 'Poppins', sans-serif;
        }
        
        /* --- 3. FORM & CONTROL STYLES --- */
        .control-block {
            background-color: var(--light-blue-bg);
            border: 1px solid var(--card-border);
            border-radius: 0.5rem;
            box-shadow: 0 0 30px var(--shadow-color);
        }

        /* --- 4. CUSTOM DROPDOWN --- */
        .custom-select-container {
            position: relative;
            cursor: pointer;
        }
        
        .custom-select-trigger {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.75rem;
            background-color: var(--dark-blue-bg);
            border-radius: 0.375rem;
            border: 1px solid var(--card-border);
            color: var(--text-primary);
            transition: all 0.2s ease-in-out;
        }

        .custom-select-container:hover .custom-select-trigger {
            border-color: var(--neon-cyan);
            box-shadow: 0 0 10px var(--shadow-color);
        }

        .custom-options {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: var(--light-blue-bg);
            border: 1px solid var(--card-border);
            border-radius: 0.5rem;
            margin-top: 8px;
            padding: 0.5rem;
            z-index: 50; /* Needs to be high to appear over content below it */
            opacity: 0;
            visibility: hidden;
            transform: perspective(800px) rotateX(-90deg);
            transform-origin: top center;
            transition: transform 0.4s ease, opacity 0.4s ease, visibility 0.4s;
        }

        .custom-select-container:hover .custom-options {
            opacity: 1;
            visibility: visible;
            transform: perspective(800px) rotateX(0deg);
        }

        .custom-option {
            padding: 0.75rem;
            border-radius: 0.25rem;
            transition: transform 0.2s ease, box-shadow 0.2s ease, background-color 0.2s ease;
        }
        
        .custom-option:hover {
            transform: scale(1.08);
            box-shadow: 0 0 15px var(--shadow-color);
            background-color: var(--hover-bg);
            color: var(--neon-cyan);
            z-index: 30;
            position: relative;
        }

        /* --- 5. INTEREST BUTTONS STYLES --- */
        .interest-btn {
            background-color: var(--dark-blue-bg);
            color: var(--text-secondary);
            border: 1px solid var(--card-border);
            transition: transform 0.3s ease, box-shadow 0.3s ease, background-color 0.3s ease, color 0.3s ease;
        }

        .interest-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 0 20px var(--shadow-color), 0 0 8px var(--neon-cyan) inset;
            color: var(--neon-cyan);
            z-index: 5;
        }
        
        .interest-btn.selected {
            background-color: var(--hover-bg);
            box-shadow: 0 0 20px var(--shadow-color), 0 0 8px var(--neon-cyan) inset;
            color: var(--neon-cyan);
            border-color: var(--neon-cyan);
        }

        /* --- 6. GENERATE BUTTON & ITINERARY STYLES --- */
        #generate-btn {
            background: linear-gradient(90deg, #00c3ff, #0075ff);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        #generate-btn:hover:not(:disabled) {
            transform: scale(1.05);
            box-shadow: 0 0 25px rgba(0, 195, 255, 0.5);
        }
        #itinerary-container h2, #itinerary-container h3 {
             color: var(--neon-cyan);
        }
        .spinner { animation: spin 1s linear infinite; }
        @keyframes spin { to { transform: rotate(360deg); } }
    </style>
</head>
<body>

    <div class="min-h-screen py-8 px-4">
        <div class="container mx-auto max-w-6xl">
            <div class="text-center mb-12">
                <h1 class="mb-4 text-4xl sm:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-white to-cyan-400">AI-Powered Itinerary Generator</h1>
                <p class="text-xl text-text-secondary max-w-2xl mx-auto">
                    Craft your perfect journey. Tailored to your interests, duration, and style.
                </p>
            </div>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                <div class="control-block p-6 space-y-6">
                    
                    <div>
                        <h2 class="flex items-center text-xl font-semibold text-text-primary">
                            <i data-lucide="sparkles" class="mr-2 h-5 w-5 text-neon-cyan"></i>
                            Plan Your Journey
                        </h2>
                        <p class="text-text-secondary mt-1">
                            Tell us your preferences and let AI create the perfect itinerary.
                        </p>
                    </div>
                    
                    <div id="duration-select" class="custom-select-container">
                         <label class="block text-sm font-medium mb-2 text-text-secondary">Trip Duration</label>
                        <div class="custom-select-trigger">
                            <span data-placeholder="Select duration">Select duration</span>
                            <i data-lucide="chevron-down" class="h-5 w-5"></i>
                        </div>
                        <div class="custom-options">
                            <div class="custom-option" data-value="1-2">1-2 Days</div>
                            <div class="custom-option" data-value="2-3">2-3 Days</div>
                            <div class="custom-option" data-value="4-5">4-5 Days</div>
                            <div class="custom-option" data-value="1-week">1 Week</div>
                            <div class="custom-option" data-value="2-weeks">2+ Weeks</div>
                        </div>
                    </div>
                    
                    <div>
                        <label class="block text-sm font-medium text-text-secondary mb-3">Your Interests</label>
                        <div id="interest-buttons-container" class="grid grid-cols-2 gap-3">
                            </div>
                    </div>

                    <div id="travelType-select" class="custom-select-container">
                        <label class="block text-sm font-medium mb-2 text-text-secondary">Travel Type</label>
                        <div class="custom-select-trigger">
                            <span data-placeholder="Select travel type">Select travel type</span>
                            <i data-lucide="chevron-down" class="h-5 w-5"></i>
                        </div>
                        <div class="custom-options">
                            <div class="custom-option" data-value="solo">Solo Adventure</div>
                            <div class="custom-option" data-value="couple">Romantic Getaway</div>
                            <div class="custom-option" data-value="family">Family Trip</div>
                            <div class="custom-option" data-value="group">Group Adventure</div>
                            <div class="custom-option" data-value="backpacking">Backpacking</div>
                        </div>
                    </div>

                    <div id="budget-select" class="custom-select-container">
                        <label class="block text-sm font-medium mb-2 text-text-secondary">Budget Range</label>
                        <div class="custom-select-trigger">
                            <span data-placeholder="Select budget">Select budget</span>
                            <i data-lucide="chevron-down" class="h-5 w-5"></i>
                        </div>
                        <div class="custom-options">
                            <div class="custom-option" data-value="shoestring">ðŸ’µ Shoestring â€“ Under â‚¹2,000/day</div>
                            <div class="custom-option" data-value="budget">ðŸ’° Budget â€“ â‚¹2,000 â€“ â‚¹5,000/day</div>
                            <div class="custom-option" data-value="mid-range">ðŸ’³ Mid-Range â€“ â‚¹5,000 â€“ â‚¹10,000/day</div>
                            <div class="custom-option" data-value="luxury">ðŸ’Ž Luxury â€“ â‚¹10,000 â€“ â‚¹20,000/day</div>
                            <div class="custom-option" data-value="ultra-luxury">ðŸš€ Ultra Luxury â€“ â‚¹20,000+/day</div>
                        </div>
                    </div>

                    <button id="generate-btn" class="w-full justify-center p-3 font-medium text-white rounded-md flex items-center text-lg">
                        </button>
                </div>

                <div id="itinerary-container">
                    </div>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- STATE AND DATA ---
            const state = {
                formData: { duration: '', interests: [], travelType: '', budget: '' },
                generatedItinerary: null,
                isGenerating: false,
            };

            const interests = [
                { id: 'waterfalls_lakes', label: 'Waterfalls & Lakes', icon: 'waves' },
                { id: 'adventure_trekking', label: 'Adventure & Trekking', icon: 'mountain' },
                { id: 'beaches_islands', label: 'Beaches & Islands', icon: 'ship' },
                { id: 'heritage_culture', label: 'Heritage & Culture', icon: 'landmark' },
                { id: 'nature_wildlife', label: 'Nature & Wildlife', icon: 'leaf' },
                { id: 'food_culinary', label: 'Food & Culinary', icon: 'utensils-crossed' },
                { id: 'shopping_markets', label: 'Shopping & Markets', icon: 'shopping-cart' },
                { id: 'festivals_nightlife', label: 'Festivals & Nightlife', icon: 'party-popper' }
            ];

             const mockItineraries = {
                default: { title: "Spiritual Rishikesh Escape", days: [ { day: 1, title: "Arrival & Spiritual Evening", activities: [ { time: "2:00 PM", title: "Arrive in Rishikesh", description: "Check into a serene ashram or riverside hotel.", location: "Rishikesh", type: "transport" }, { time: "5:00 PM", title: "Ganga Aarti Ceremony", description: "Witness the mesmerizing evening prayer ceremony at Parmarth Niketan.", location: "Parmarth Niketan Ghat", type: "cultural" }, { time: "7:30 PM", title: "Sattvic Dinner", description: "Enjoy a healthy and pure vegetarian meal at a local cafe.", location: "Ram Jhula", type: "food" } ] }, { day: 2, title: "Yoga, Beatles & Bridges", activities: [ { time: "7:00 AM", title: "Sunrise Yoga", description: "Participate in a morning yoga session overlooking the Ganges.", location: "Your Ashram/Hotel", type: "activity" }, { time: "10:00 AM", title: "Beatles Ashram Exploration", description: "Explore the graffiti-covered domes where The Beatles stayed.", location: "Beatles Ashram", type: "attraction" }, { time: "1:00 PM", title: "Cross Laxman Jhula", description: "Walk across the iconic suspension bridge with stunning river views.", location: "Laxman Jhula", type: "attraction" } ] } ] },
                adventure_trekking: { title: "Himalayan Trekking Adventure", days: [ { day: 1, title: "Manali to Chika", activities: [ { time: "9:00 AM", title: "Drive to Jobra", description: "Start your journey with a scenic drive from Manali to the trek starting point.", location: "Jobra", type: "transport" }, { time: "11:00 AM", title: "Trek to Chika", description: "A gentle 2-hour trek through lush forests to the beautiful campsite of Chika.", location: "Chika Campsite", type: "trekking" }, { time: "6:00 PM", title: "Campfire & Stargazing", description: "Enjoy dinner by the campfire under a clear Himalayan sky.", location: "Chika", type: "activity" } ] }, { day: 2, title: "Trek to Balu ka Ghera", activities: [ { time: "8:00 AM", title: "Begin Trek", description: "Trek along the river, crossing streams and boulder sections.", location: "Trail to Balu ka Ghera", type: "trekking" }, { time: "2:00 PM", title: "Reach Campsite", description: "Arrive at Balu ka Ghera (Heap of Sand), a flat plain at the base of Hampta Pass.", location: "Balu ka Ghera", type: "attraction" } ] } ] },
                beaches_islands: { title: "Andaman Islands Paradise", days: [ { day: 1, title: "Arrival in Port Blair & Cellular Jail", activities: [ { time: "11:00 AM", title: "Arrive at Port Blair", description: "Transfer to your hotel and relax.", location: "Port Blair", type: "transport" }, { time: "3:00 PM", title: "Cellular Jail Visit", description: "Visit the historic colonial prison and learn about India's freedom struggle.", location: "Cellular Jail", type: "heritage_culture" }, { time: "6:00 PM", title: "Light & Sound Show", description: "Experience the moving saga of the freedom fighters at the Cellular Jail.", location: "Cellular Jail", type: "activity" } ] }, { day: 2, title: "Havelock Island & Radhanagar Beach", activities: [ { time: "8:00 AM", title: "Ferry to Havelock", description: "Take a high-speed ferry to the stunning Havelock Island (Swaraj Dweep).", location: "Havelock Island", type: "transport" }, { time: "2:00 PM", title: "Radhanagar Beach", description: "Relax and swim at one of Asia's best beaches, known for its white sand and turquoise water.", location: "Radhanagar Beach", type: "attraction" } ] } ] },
                heritage_culture: { title: "Royal Rajasthan Discovery", days: [ { day: 1, title: "Jaipur: The Pink City", activities: [ { time: "10:00 AM", title: "Amer Fort", description: "Explore the magnificent hilltop fort with its intricate architecture and stunning views.", location: "Amer Fort", type: "attraction" }, { time: "2:00 PM", title: "City Palace", description: "Visit the royal residence, a beautiful blend of Rajput and Mughal architecture.", location: "City Palace, Jaipur", type: "heritage_culture" }, { time: "5:00 PM", title: "Hawa Mahal", description: "Admire the iconic 'Palace of Winds' with its unique five-story facade.", location: "Hawa Mahal", type: "attraction" } ] }, { day: 2, title: "Jodhpur: The Blue City", activities: [ { time: "10:00 AM", title: "Mehrangarh Fort", description: "Discover one of India's largest forts, towering over the blue city.", location: "Mehrangarh Fort", type: "attraction" }, { time: "3:00 PM", title: "Jaswant Thada", description: "Visit the beautiful marble cenotaph built in memory of Maharaja Jaswant Singh II.", location: "Jaswant Thada", type: "heritage_culture" } ] } ] }
            };

            const getActivityIconName = (type) => ({'transport':'car','attraction':'map-pin','food':'utensils-crossed','cultural':'landmark','activity':'gamepad-2','trekking':'mountain','heritage_culture':'palace'}[type]||'map-pin');
            
            // --- DOM ELEMENTS ---
            const generateBtn = document.getElementById('generate-btn');
            const interestContainer = document.getElementById('interest-buttons-container');
            const itineraryContainer = document.getElementById('itinerary-container');

            // --- RENDER FUNCTIONS ---
            function renderInterestButtons() {
                interestContainer.innerHTML = interests.map(interest => {
                    const isSelected = state.formData.interests.includes(interest.id);
                    return `<button data-interest-id="${interest.id}" class="interest-btn justify-start h-auto p-3 text-left w-full flex items-center rounded-md ${isSelected ? 'selected' : ''}"><i data-lucide="${interest.icon}" class="mr-2 h-4 w-4"></i><span class="text-sm">${interest.label}</span></button>`;
                }).join('');
                lucide.createIcons();
            }

            function renderGenerateButton() {
                if (state.isGenerating) {
                    generateBtn.innerHTML = `<div class="spinner mr-2"></div>Generating Your Perfect Trip...`;
                    generateBtn.disabled = true;
                } else {
                    generateBtn.innerHTML = `<i data-lucide="sparkles" class="mr-2 h-5 w-5"></i>Generate AI Itinerary`;
                    generateBtn.disabled = !state.formData.duration;
                }
                lucide.createIcons();
            }

            function renderItinerary() {
                if (state.generatedItinerary) {
                    const itinerary = state.generatedItinerary;
                    const daysHTML = itinerary.days.map(day => {
                        const activitiesHTML = day.activities.map(activity => `<div class="flex items-start space-x-3 p-3 rounded-lg bg-dark-blue-bg hover:bg-opacity-50 transition-colors"><div class="flex-shrink-0 mt-1"><div class="bg-light-blue-bg p-2 rounded-lg shadow-sm border border-card-border"><i data-lucide="${getActivityIconName(activity.type)}" class="h-4 w-4 text-neon-cyan"></i></div></div><div class="flex-1 min-w-0"><div class="flex items-center justify-between mb-1"><h4 class="font-medium text-text-primary">${activity.title}</h4><div class="flex items-center text-sm text-text-secondary"><i data-lucide="clock" class="mr-1 h-3 w-3"></i>${activity.time}</div></div><p class="text-sm text-text-secondary mb-2">${activity.description}</p><div class="flex items-center justify-between"><div class="flex items-center text-xs text-text-secondary"><i data-lucide="map-pin" class="mr-1 h-3 w-3"></i>${activity.location}</div></div></div></div>`).join('');
                        return `<div class="p-4"><div class="flex items-center mb-4"><div class="bg-neon-cyan text-dark-blue-bg rounded-full w-8 h-8 flex items-center justify-center mr-3 font-bold">${day.day}</div><div><h3 class="font-semibold">${day.title}</h3><p class="text-sm text-text-secondary">Day ${day.day}</p></div></div><div class="space-y-3">${activitiesHTML}</div></div>`;
                    }).join('');
                    itineraryContainer.innerHTML = `<div class="control-block rounded-lg"><div class="p-6 border-b-2 border-neon-cyan"><h2 class="flex items-center text-xl font-semibold"><i data-lucide="check-circle" class="mr-2 h-5 w-5"></i>${itinerary.title}</h2><p class="text-text-secondary mt-1">Your personalized itinerary is ready!</p></div><div class="max-h-[80vh] overflow-y-auto">${daysHTML}</div></div>`;
                } else {
                    itineraryContainer.innerHTML = `<div class="control-block border-dashed h-full"><div class="p-12 text-center flex flex-col justify-center items-center h-full"><div class="bg-light-blue-bg border border-card-border rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-4"><i data-lucide="sparkles" class="h-10 w-10 text-neon-cyan"></i></div><h3 class="text-lg font-medium text-text-primary mb-2">Your AI Itinerary</h3><p class="text-text-secondary">Fill out the form to generate your travel plan.</p></div></div>`;
                }
                lucide.createIcons();
            }

            // --- Custom Select Logic ---
            function initializeCustomSelect(containerId, stateKey) {
                const container = document.getElementById(containerId);
                const trigger = container.querySelector('.custom-select-trigger span');
                const options = container.querySelectorAll('.custom-option');
                
                options.forEach(option => {
                    option.addEventListener('click', (e) => {
                        e.stopPropagation();
                        trigger.innerHTML = option.innerHTML;
                        trigger.style.color = 'var(--text-primary)';
                        state.formData[stateKey] = option.getAttribute('data-value');
                        if(stateKey === 'duration') { renderGenerateButton(); }
                        document.activeElement.blur();
                    });
                });
            }

            // --- EVENT LISTENERS ---
            interestContainer.addEventListener('click', (e) => {
                const button = e.target.closest('.interest-btn');
                if (button && button.dataset.interestId) {
                    const interestId = button.dataset.interestId;
                    const interestsState = state.formData.interests;
                    const index = interestsState.indexOf(interestId);

                    if (index > -1) {
                        interestsState.splice(index, 1);
                        button.classList.remove('selected');
                    } else {
                        interestsState.push(interestId);
                        button.classList.add('selected');
                    }
                }
            });

            generateBtn.addEventListener('click', () => {
                state.isGenerating = true;
                renderGenerateButton();
                setTimeout(() => {
                    if(state.formData.interests.includes('beaches_islands')) { state.generatedItinerary = mockItineraries.beaches_islands; } 
                    else if (state.formData.interests.includes('adventure_trekking')) { state.generatedItinerary = mockItineraries.adventure_trekking; } 
                    else if (state.formData.interests.includes('heritage_culture')) { state.generatedItinerary = mockItineraries.heritage_culture; } 
                    else { state.generatedItinerary = mockItineraries.default; }
                    state.isGenerating = false;
                    renderGenerateButton();
                    renderItinerary();
                }, 2000);
            });
            
            // --- INITIALIZATION ---
            renderInterestButtons();
            renderGenerateButton();
            renderItinerary();
            initializeCustomSelect('duration-select', 'duration');
            initializeCustomSelect('travelType-select', 'travelType');
            initializeCustomSelect('budget-select', 'budget');
        });
    </script>
</body>
</html>
